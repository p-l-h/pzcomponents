{"version":3,"sources":["../../../src/common/functions/request.js"],"names":[],"mappings":";;;;;;;;;;;QAkGgB,Q,GAAA,Q;;AAhGhB;;;;AAEA,EAAE,QAAF,EAAY,EAAZ,CAAe,WAAf,EAA4B,UAAC,GAAD,EAAM,OAAN,EAAe,KAAf,EAAyB;;AAEjD,sBAAM,MAAN;AACH,CAHD;;AAKO,SAAS,OAAT,CAAkB,GAAlB,EAAuB,IAAvB,EAA6B,QAA7B,EAAsC,MAAtC,EAA6C,MAA7C,EAAqD;;AAExD,WAAO,EAAE,IAAF,CACH;AACI,gBADJ;AAEI,kBAFJ;AAGI,cAAM,KAHV;AAII,kBAAU,MAJd;AAKI,iBAAS,iBAAC,QAAD,EAAc;AACnB,gBAAI,YAAa,CAAC,SAAS,IAAV,KAAmB,CAApC,EAAyC;AACrC,yBAAQ,SAAS,IAAjB;AACH,aAFD,MAGK;AACD,kCAAM,SAAS,GAAT,IAAgB,OAAtB;AACA,0BAAS,OAAM,QAAN,CAAT;AACH;AACJ,SAbL;AAcI,eAAO,iBAAM;AACT,sBAAS,QAAT;AACH,SAhBL;AAiBI,kBAAU,oBAAO;AACb,sBAAU,QAAV;AACH;AAnBL,KADG,CAAP;AAuBH;;;AAEM,SAAS,MAAT,CAAgB,GAAhB,EAAqB,IAArB,EAA2B,SAA3B,EAAmC,OAAnC,EAA0C,MAA1C,EAAkD;;;AAGrD,WAAO,EAAE,IAAF,CACH;AACI,aAAK,GADT;AAEI,cAAM,IAFV;AAGI,cAAM,MAHV;AAII,iBAAS,iBAAC,QAAD,EAAc;AACnB,gBAAI,YAAa,CAAC,SAAS,IAAV,KAAmB,CAApC,EAAwC;AACpC,0BAAQ,SAAS,IAAjB;AACH,aAFD,MAGK;AACD,kCAAM,SAAS,GAAT,IAAgB,OAAtB;AACA,2BAAS,QAAM,QAAN,CAAT;AACH;AAEJ,SAbL;AAcI,eAAO,iBAAM;AACT,8BAAM,OAAN;AACA,uBAAS,SAAT;AAEH,SAlBL;AAmBI,kBAAU,oBAAM;;AAEb,sBAAU,QAAV;AACF;AAtBL,KADG,CAAP;AA2BH;;;AAEM,SAAS,QAAT,CAAmB,GAAnB,EAAwB,IAAxB,EAA8B,SAA9B,EAAuC,OAAvC,EAA8C,MAA9C,EAAsD;;AAEzD,WAAO,EAAE,IAAF,CACH;AACI,aAAK,GADT;AAEI,cAAM,yBAAe,IAAf,CAFV;AAGI,cAAM,MAHV;AAII,qBAAa,kBAJjB;AAKI,iBAAS,iBAAC,QAAD,EAAc;AACnB,gBAAI,YAAa,CAAC,SAAS,IAAV,KAAmB,CAApC,EAAwC;AACpC,0BAAQ,SAAS,IAAjB;AACH,aAFD,MAGK;AACD,kCAAM,SAAS,GAAT,IAAgB,OAAtB;AACA,2BAAS,QAAM,QAAN,CAAT;AACH;AAEJ,SAdL;AAeI,eAAO,iBAAM;AACT,8BAAM,OAAN;AACA,uBAAS,SAAT;AACH,SAlBL;AAmBI,kBAAU,oBAAM;;AAEb,sBAAU,QAAV;AACF;AAtBL,KADG,CAAP;AA0BH;;;AAEM,SAAS,QAAT,CAAkB,GAAlB,EAAuB,QAAvB,EAAiC;AACpC,MAAE,IAAF,CAAO;AACH,aAAK,GADF;AAEH,kBAAU,OAFP;AAGH,iBAAU,iBAAC,QAAD,EAAc;AACpB,qBAAS,QAAT;AACH;AALE,KAAP;AAOH","file":"request.js","sourcesContent":["\n\nimport {toast, loading, unloading} from '../../components/Toast';\n\n$(document).on('ajaxError', (xhr, options, error) => {\n    // unloading();\n    toast('请求异常');\n});\n\nexport function getJson (url, data, success, error, always) {\n\n    return $.ajax(\n        {\n            url,\n            data,\n            type: 'GET',\n            dataType: 'json',\n            success: (response) => {\n                if (response && (+response.code === 0 )) {\n                    success(response.data);\n                }\n                else {\n                    toast(response.msg || '请求出错了');\n                    error && error(response);\n                }\n            },\n            error: () => {\n                error && error();\n            },\n            complete: () =>  {\n                always && always();\n            }\n        }\n    );\n}\n\nexport function doPost(url, data, success,error, always) {\n    // loading();\n\n    return $.ajax(\n        {\n            url: url,\n            data: data,\n            type: 'POST',\n            success: (response) => {\n                if (response && (+response.code === 0)) {\n                    success(response.data);\n                }\n                else {\n                    toast(response.msg || '请求出错了');\n                    error && error(response);\n                }\n\n            },\n            error: () => {\n                toast('请求出错了');\n                error && error();\n\n            },\n            complete: () => {\n            //    unloading();\n               always && always();\n            }\n        }\n    );\n\n}\n\nexport function postJson (url, data, success, error, always) {\n    // loading();\n    return $.ajax(\n        {\n            url: url,\n            data: JSON.stringify(data),\n            type: 'POST',\n            contentType: 'application/json',\n            success: (response) => {\n                if (response && (+response.code === 0)) {\n                    success(response.data);\n                }\n                else {\n                    toast(response.msg || '请求出错了');\n                    error && error(response);\n                }\n\n            },\n            error: () => {\n                toast('请求出错了');\n                error && error();\n            },\n            complete: () => {\n            //    unloading();\n               always && always();\n            }\n        }\n    );\n}\n\nexport function getJsonp(url, callback) {\n    $.ajax({\n        url: url,\n        dataType: 'jsonp',\n        success:  (response) => {\n            callback(response);\n        }\n    });\n}\n"]}