{"version":3,"sources":["../../../src/common/functions/listenToScroll.js"],"names":[],"mappings":";;;;;QAOgB,c,GAAA,c;;;;;;;AAAT,SAAS,cAAT,CAAwB,IAAxB,EAA8B,QAA9B,EAAwC;;AAE3C,QAAI,WAAJ;AACA,QAAI,mBAAmB,CAAvB;;AAEA,SAAK,EAAL,CAAQ,QAAR,EAAkB,UAAC,CAAD,EAAM;;AAEpB,cAAM,aAAa,EAAb,CAAN;;AAEA,aAAK,WACD,YAAM;;AAEF,gBAAI,sBAAsB,KAAK,SAAL,EAA1B;AACA,gBAAI,YAAY,MAAhB;AACA,gBAAI,mBAAmB,mBAAvB,EAA4C;AACxC,4BAAY,IAAZ;AACH;;AAED,+BAAmB,mBAAnB;;AAEA,qBAAS;AACL,2BAAW;AADN,aAAT;AAGH,SAdA,EAeD,GAfC,CAAL;AAiBH,KArBD;AAsBH","file":"listenToScroll.js","sourcesContent":["\n/**\n * 监听滚轮事件\n * @author peilonghui\n */\n\n\nexport function listenToScroll(elem, callback) {\n    \n    let to;\n    let lastScrollHeight = 0;\n    \n    elem.on('scroll', (e) =>{\n        \n        to && clearTimeout(to);\n        \n        to = setTimeout(\n            () => {\n                \n                let currentScrollHeight = elem.scrollTop();\n                let direction = 'down';\n                if (lastScrollHeight > currentScrollHeight) {\n                    direction = 'up';\n                }\n                \n                lastScrollHeight = currentScrollHeight;\n                \n                callback({\n                    direction: direction\n                });\n            },\n            500\n        );\n    });\n}"]}