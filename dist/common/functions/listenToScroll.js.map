{"version":3,"sources":["../../../src/common/functions/listenToScroll.js"],"names":[],"mappings":";;;;;QAOgB,c,GAAA,c;;;;;;;AAAT,SAAS,cAAT,CAAwB,IAAxB,EAA8B,QAA9B,EAAwC;;AAE3C,QAAI,WAAJ;AACA,QAAI,gBAAgB,KAAK,SAAL,EAApB;;AAEA,SAAK,EAAL,CAAQ,QAAR,EAAkB,UAAC,CAAD,EAAM;AACpB,cAAM,aAAa,EAAb,CAAN;;AAEA,aAAK,WACD,YAAM;;AAEF,gBAAI,mBAAmB,KAAK,SAAL,EAAvB;AACA,gBAAI,YAAY,MAAhB;AACA,gBAAI,gBAAgB,gBAApB,EAAsC;AAClC,4BAAY,IAAZ;AACH;AACD,4BAAgB,gBAAhB;AACA,qBAAS;AACL,2BAAW,SADN;AAEL,uBAAO;AAFF,aAAT;AAIH,SAbA,EAcD,GAdC,CAAL;AAgBH,KAnBD;AAoBH","file":"listenToScroll.js","sourcesContent":["\n/**\n * 监听滚轮事件\n * @author peilonghui\n */\n\n\nexport function listenToScroll(elem, callback) {\n\n    let to;\n    let lastScrollTop = elem.scrollTop();\n\n    elem.on('scroll', (e) =>{\n        to && clearTimeout(to);\n\n        to = setTimeout(\n            () => {\n\n                let currentScrollTop = elem.scrollTop();\n                let direction = 'down';\n                if (lastScrollTop > currentScrollTop) {\n                    direction = 'up';\n                }\n                lastScrollTop = currentScrollTop;\n                callback({\n                    direction: direction,\n                    event: e\n                });\n            },\n            500\n        );\n    });\n}\n"]}