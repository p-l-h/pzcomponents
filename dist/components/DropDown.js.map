{"version":3,"sources":["../../src/components/DropDown.js"],"names":[],"mappings":"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","file":"DropDown.js","sourcesContent":["\n\nconst $window = $(window);\n\nexport class DropDown {\n    constructor(options) {\n        this.options = options;\n        this.init();\n    }\n\n    init() {\n        let self = this;\n        self.main = self.getMain();\n\n        let events = self.options.events;\n\n        self.main.on('click', 'button', function () {\n            let opttype = $(this).data('opttype');\n\n            let currentEventHandler = events[opttype];\n\n            currentEventHandler && currentEventHandler.call(this);\n\n        });\n\n        self.main.appendTo($(document.body));\n\n        $(document.body).on('click', (e) => {\n            if (!$.contains(self.main[0], e.target)) {\n                self.hide();\n            }\n        });\n    }\n\n    getMain() {\n        return $(this.getTemplate());\n    }\n\n    getTemplate() {\n        let result = ['<div class=\"component-dropdown\"><ul>'];\n        let self = this;\n        self.options.actions.forEach(\n            (item) => {\n                result.push(self.getItemTemplate(item));\n            }\n        );\n       \n        result.push('</ul>');\n\n        return result.join('');\n    }\n\n    getItemTemplate(item) {\n        return `\n            <li><button data-opttype=\"${item.opttype}\">${item.text}</button></li>\n        `;\n    }\n\n    attachTo(elem) {\n\n        let self = this;\n        let options = self.options;\n\n        options.position = options.position || 'left';\n        \n        // let scrollTop = $window.scrollTop();\n        // let scrollLeft = $window.scrollLeft();\n        let windowWidth = $window.width();\n        let bodyHeight = $(document.body).height();\n        let offset = elem.offset();\n\n        let position = {};\n\n        switch(options.position) {\n        case 'left':\n            position.right = windowWidth - offset.left;\n            position.top = offset.top + offset.height /2;\n            break;\n        case 'top':\n            position.bottom = bodyHeight - offset.top;\n            position.left = offset.left;\n            break;\n        case 'right':\n            position.top = offset.top;\n            position.right = offset.left + offset.width;\n            break;\n        case 'bottom':\n            position.top = offset.top + offset.height;\n            position.left = offset.left;\n            break;\n        default:\n            break;\n        }\n        self.main.addClass('component-dropdown-' + options.position);\n        self.setPosition(position);\n    }\n    \n    setPosition(pos) {\n        let self = this;\n        self.coordinate = pos;\n\n        let css = {};\n        for (let key in pos) {\n            css[key] = pos[key] + 'px';\n        }\n\n        self.main.css(css);   \n    }\n\n    getPosition() {\n        return this.coordinate;\n    }\n   \n    show() {\n        this.main.show();\n    }\n\n    hide() {\n        this.main.hide();\n    }\n}"]}