{"version":3,"sources":["../../src/components/Progress.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;IAEa,Q,WAAA,Q;AACT,sBAAY,SAAZ,EAAuB,OAAvB,EAAgC;AAAA;;AAC5B,aAAK,SAAL,GAAiB,SAAjB;AACA,aAAK,OAAL,GAAe,OAAf;AACA,aAAK,IAAL;AACH;;;;+BAEM;;AAEH,gBAAI,OAAO,IAAX;;AAEA,gBAAI,KAAK,OAAL,CAAa,IAAjB,EAAuB;AACnB,qBAAK,SAAL,CAAe,QAAf,CAAwB,UAAU,KAAK,OAAL,CAAa,IAA/C;AACH;AACD,iBAAK,GAAL,GAAW,EAAE,KAAK,WAAL,EAAF,CAAX;AACA,iBAAK,QAAL,CAAc,KAAK,OAAL,CAAa,KAA3B;;AAEA,iBAAK,GAAL,CAAS,QAAT,CAAkB,KAAK,SAAvB;AACA,iBAAK,UAAL;AAEH;;;sCAEa;AACV;AAKH;;;qCAEY;AACT,gBAAI,OAAO,IAAX;;AAEA,gBAAI,gBAAgB;AAChB,mBAAG,CADa;AAEhB,mBAAG;AAFa,aAApB;AAIA,gBAAI,cAAc;AACd,mBAAG,CADW;AAEd,mBAAG;AAFW,aAAlB;;AAKA,gBAAI,aAAa,CAAjB;;AAGA,iBAAK,GAAL,CAAS,QAAT,CAAkB,GAAlB,EACK,EADL,CACQ,YADR,EACsB,UAAU,CAAV,EAAa;AAC3B,kBAAE,cAAF;AACA,kBAAE,eAAF;AACA,6BAAa,KAAK,OAAL,CAAa,KAA1B;;AAEA,oBAAI,QAAQ,EAAE,cAAF,CAAiB,CAAjB,CAAZ;;AAEA,8BAAc,CAAd,GAAkB,MAAM,KAAxB;AACA,8BAAc,CAAd,GAAkB,MAAM,KAAxB;AAEH,aAXL;;AAaA,iBAAK,SAAL,CAAe,EAAf,CAAkB,WAAlB,EAA+B,UAAU,CAAV,EAAa;AACxC,kBAAE,cAAF;AACA,kBAAE,eAAF;AACA,oBAAI,QAAQ,EAAE,cAAF,CAAiB,CAAjB,CAAZ;AACA,oBAAI,WAAW,KAAK,SAAL,CAAe,KAAf,EAAf;;AAEA,4BAAY,CAAZ,GAAgB,MAAM,KAAtB;AACA,4BAAY,CAAZ,GAAgB,MAAM,KAAtB;;AAEA,oBAAI,QAAQ,YAAY,CAAZ,GAAgB,cAAc,CAA1C;AACA,wBAAS,QAAQ,QAAT,GAAqB,GAA7B;;AAEA,qBAAK,cAAL,CAAoB,CAAC,UAAD,GAAc,KAAlC;AAEH,aAdD;AAeH;;;iCAEQ,G,EAAK;;AAEV,gBAAI,CAAC,GAAL,EAAU;AACN,sBAAM,CAAN;AACH;;AAED,iBAAK,OAAL,CAAa,KAAb,GAAqB,GAArB;AACA,iBAAK,GAAL,CAAS,GAAT,CAAa,OAAb,EAAsB,MAAM,GAA5B;AACH;;;uCAGc,G,EAAK;;AAEhB,gBAAI,OAAO,IAAX;;AAEA,gBAAI,KAAK,YAAT,EAAuB;AACnB,qBAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,EAA4B,GAA5B;AACH,aAFD,MAGK;AACD,qBAAK,QAAL,CAAc,IAAI,OAAJ,CAAY,CAAZ,CAAd;AACH;AACJ;;;wCAEe,Q,EAAU;AACtB,iBAAK,YAAL,GAAoB,QAApB;AACH;;;mCAEU;AACP,mBAAO,KAAK,OAAL,CAAa,KAApB;AACH","file":"Progress.js","sourcesContent":["\n\nexport class Progress {\n    constructor(container, options) {\n        this.container = container;\n        this.options = options;\n        this.init();\n    }\n\n    init() {\n\n        let self = this;\n\n        if (self.options.skin) {\n            self.container.addClass('skin-' + self.options.skin);\n        }\n        self.bar = $(self.getTemplate());\n        self.setValue(self.options.value);\n\n        self.bar.appendTo(self.container);\n        self.initEvents();\n\n    }\n\n    getTemplate() {\n        return `\n            <div class=\"component-progress-value\">\n                <i></i>\n            </div>\n        `;\n    }\n\n    initEvents() {\n        let self = this;\n\n        let startPosition = {\n            x: 0,\n            y: 0\n        }\n        let endPosition = {\n            x: 0,\n            y: 0\n        };\n\n        let startValue = 0;\n\n        \n        self.bar.children('i')\n            .on('touchstart', function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                startValue = self.options.value;\n\n                let touch = e.changedTouches[0];\n\n                startPosition.x = touch.pageX;\n                startPosition.y = touch.pageY;\n                \n            });\n\n        self.container.on('touchmove', function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            let touch = e.changedTouches[0];\n            let barWidth = self.container.width();\n\n            endPosition.x = touch.pageX;\n            endPosition.y = touch.pageY;\n\n            let moved = endPosition.x - startPosition.x;\n            moved = (moved / barWidth) * 100;\n            \n            self.setValueByDrag(+startValue + moved);\n\n        });\n    }\n\n    setValue(val) {\n\n        if (!val) {\n            val = 0;\n        }\n\n        this.options.value = val;\n        this.bar.css('width', val + '%');\n    }\n\n\n    setValueByDrag(val) {\n        \n        let self = this;\n\n        if (self.dragCallback) {\n            self.dragCallback.call(self,val);\n        }\n        else {\n            self.setValue(val.toFixed(2));\n        }\n    }\n\n    setDragCallback(callback) {\n        this.dragCallback = callback;\n    }\n\n    getValue() {\n        return this.options.value;\n    }\n\n\n}"]}