{"version":3,"sources":["../../src/components/TextPromptEditor.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA;;AACA;;AACA;;;;IAIqB,gB;AACjB,8BAAY,OAAZ,EAAqB,OAArB,EAA8B;AAAA;;AAC1B,aAAK,OAAL,GAAe,OAAf;AACA,aAAK,OAAL,GAAe,OAAf;AACA,aAAK,IAAL;AACH;;;;+BAEK;;AAEF,gBAAI,OAAO,IAAX;AACA,gBAAI,UAAU,KAAK,OAAnB;;AAGA,iBAAK,YAAL,GAAoB,yBAAY,QAAQ,WAApB,EAAiC,QAAQ,GAAzC,CAApB;AACA,iBAAK,YAAL,CAAkB,IAAlB;AACA,iBAAK,YAAL,CAAkB,UAAlB,CAA6B,KAA7B,EAAoC,YAAY;AAC5C,oBAAI,MAAM,IAAV;;AAEA,oBAAI,MAAM,IAAI,IAAJ,CAAS,IAAT,CAAc,oBAAd,EAAoC,GAApC,GAA0C,IAA1C,EAAV;AACA,oBAAI,QAAQ,QAAQ,aAAR,IAAyB,QAAQ,aAAR,CAAsB,GAAtB,CAArC;;AAEA,oBAAI,KAAJ,EAAW;AACP,sCAAM,KAAN;AACA;AACH;;AAED,wBAAQ,OAAR,IAAmB,QAAQ,OAAR,CAAgB,GAAhB,EAAqB,GAArB,CAAnB;AAEH,aAbD,EAaG,KAbH;;AAiBA,iBAAK,OAAL,CAAa,EAAb,CAAgB,OAAhB,EAAyB,YAAY;AACjC,qBAAK,YAAL,CAAkB,IAAlB;AACH,aAFD;AAGH;;;;;kBAnCgB,gB","file":"TextPromptEditor.js","sourcesContent":["\n\nimport {promptInput} from './Dialog';\nimport {toast} from './Toast';\nimport {postJson} from '../common/functions/request';\n\n\n\nexport default class TextPromptEditor {\n    constructor(trigger, options) {\n        this.trigger = trigger;\n        this.options = options;\n        this.init();\n    }\n\n    init(){\n\n        let self = this;\n        let options = self.options;\n\n\n        self.promptDialog = promptInput(options.originValue, options.tip);\n        self.promptDialog.hide();\n        self.promptDialog.addHandler('yes', function () {\n            let dlg = this;\n\n            let val = dlg.main.find('input[type=\"text\"]').val().trim();\n            let error = options.validateError && options.validateError(val);\n\n            if (error) {\n                toast(error);\n                return;\n            }\n\n            options.success && options.success(val, dlg);\n\n        }, false);\n    \n\n        \n        self.trigger.on('click', function () {\n            self.promptDialog.show();        \n        });\n    }\n}"]}