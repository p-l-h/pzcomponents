{"version":3,"sources":["../../src/components/ActionSheet.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;;;;IAEa,W,WAAA,W;AACT,yBAAY,OAAZ,EAAqB;AAAA;;AACjB,aAAK,OAAL,GAAe,OAAf;AACA,aAAK,IAAL;AACH;;;;+BAEM;AAAA;;AAEH,gBAAI,OAAO,IAAX;AACA,iBAAK,IAAL,GAAY,KAAK,OAAL,EAAZ;;AAEA,gBAAI,SAAS,KAAK,OAAL,CAAa,MAA1B;;AAEA,gBAAI,qBAAqB,OAAO,MAAhC;;AAEA,mBAAO,MAAP,GAAgB,YAAM;AAClB,sCAAsB,mBAAmB,KAAnB,OAAtB;AACA,qBAAK,IAAL;AACH,aAHD;;AAKA,iBAAK,IAAL,CAAU,EAAV,CAAa,OAAb,EAAsB,QAAtB,EAAgC,YAAY;AACxC,oBAAI,UAAU,EAAE,IAAF,EAAQ,IAAR,CAAa,SAAb,CAAd;AACA,oBAAI,sBAAsB,OAAO,OAAP,CAA1B;AACA,uCAAuB,oBAAoB,IAApB,CAAyB,IAAzB,CAAvB;AACH,aAJD;;AAMA,iBAAK,KAAL,GAAa,iBAAU;AACnB,uBAAO,KAAK,IADO;AAEnB,mCAAmB;AAFA,aAAV,CAAb;AAIH;;;kCAES;AACN,mBAAO,EAAE,KAAK,WAAL,EAAF,CAAP;AACH;;;sCAEa;AACV,gBAAI,SAAS,CAAC,yCAAD,CAAb;AACA,gBAAI,OAAO,IAAX;AACA,gBAAI,UAAU,KAAK,OAAnB;;AAEA,gBAAI,QAAQ,GAAZ,EAAiB;AACb,uBAAO,IAAP,CAAY,2CACN,QAAQ,GADF,GAEN,OAFN;AAIH;;AAED,oBAAQ,OAAR,CAAgB,OAAhB,CACI,UAAC,IAAD,EAAU;AACN,uBAAO,IAAP,CAAY,KAAK,eAAL,CAAqB,IAArB,CAAZ;AACH,aAHL;AAKA,mBAAO,IAAP,CAAY,OAAZ;;AAEA,mBAAO,OAAO,IAAP,CAAY,EAAZ,IACD,4CADC,GAEC,yDAFD,GAGD,QAHN;AAIH;;;wCAEe,I,EAAM;AAClB,gEACgC,KAAK,OADrC,UACiD,KAAK,IADtD;AAGH;;;+BAEM;AACH,iBAAK,KAAL,CAAW,IAAX;AACH;;;+BAEM;AACH,iBAAK,KAAL,CAAW,IAAX;AACH;;;kCAES;AACN,iBAAK,KAAL,CAAW,OAAX;AACA,iBAAK,IAAL,CAAU,GAAV,CAAc,OAAd,EAAuB,MAAvB;AACH","file":"ActionSheet.js","sourcesContent":["\n\nimport {Panel} from './Panel';\n\nexport class ActionPanel {\n    constructor(options) {\n        this.options = options;\n        this.init();\n    }\n\n    init() {\n\n        let self = this;\n        self.main = self.getMain();\n\n        let events = self.options.events;\n\n        let currentCancelEvent = events.cancel;\n\n        events.cancel = () => {\n            currentCancelEvent && currentCancelEvent.apply(this);\n            self.hide();\n        };\n\n        self.main.on('click', 'button', function () {\n            let opttype = $(this).data('opttype');\n            let currentEventHandler = events[opttype];\n            currentEventHandler && currentEventHandler.call(this);\n        });\n\n        self.panel = new Panel({\n            inner: self.main,\n            closeOnTouchBlack: true\n        });\n    }\n\n    getMain() {\n        return $(this.getTemplate());\n    }\n\n    getTemplate() {\n        let result = ['<div class=\"component-actionsheet\"><ul>'];\n        let self = this;\n        let options = self.options;\n\n        if (options.tip) {\n            result.push('<li class=\"component-actionsheet-tip\">'\n                + options.tip\n                + '</li>'\n            );\n        }\n\n        options.actions.forEach(\n            (item) => {\n                result.push(self.getItemTemplate(item));\n            }\n        );\n        result.push('</ul>');\n\n        return result.join('')\n            + '<div class=\"component-actionsheet-cancel\">'\n            +   '<button type=\"button\" data-opttype=\"cancel\">取消</button>'\n            + '</div>';\n    }\n\n    getItemTemplate(item) {\n        return `\n            <li><button data-opttype=\"${item.opttype}\">${item.text}</button></li>\n        `;\n    }\n\n    show() {\n        this.panel.show();\n    }\n\n    hide() {\n        this.panel.hide();\n    }\n\n    dispose() {\n        this.panel.dispose();\n        this.main.off('click').remove();\n    }\n\n}\n"]}